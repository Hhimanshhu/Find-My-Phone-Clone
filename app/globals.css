:root {
  --background: #ffffff;
  --foreground: #171717;
  --dropdown-bg: #fff;       /* Light mode */
  --dropdown-text: #222;
  --dropdown-hover: #f3f3f3;
}

[data-theme="dark"] {
  --dropdown-bg: #2b2b2b;    /* Dark mode */
  --dropdown-text: #f1f1f1;
  --dropdown-hover: #3a3a3a;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}
.wrapper {
  display: flex;
  min-height: 100vh;
  padding-top: 60px; /* same as .navbar height */
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: Arial, Helvetica, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

a {
  color: inherit;
  text-decoration: none;
}

@media (prefers-color-scheme: dark) {
  html {
    color-scheme: dark;
  }
}

:root{
  --bg: #f6f7fb;
  --panel: #ffffff;
  --text: #0f172a;
  --subtext:#475569;
  --primary:#2563eb;
  --muted:#e2e8f0;
  --ring:#10b981;
  --danger:#ef4444;
  --shadow: 0 10px 25px rgba(0,0,0,.06);
}

:root.dark{
  --bg:#0b1220;
  --panel:#0f172a;
  --text:#e5e7eb;
  --subtext:#94a3b8;
  --primary:#60a5fa;
  --muted:#1e293b;
  --ring:#34d399;
  --danger:#f87171;
  --shadow: 0 10px 25px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* Layout */
.wrapper{
  display:grid; grid-template-columns: 320px 1fr; gap:16px;
  padding:16px; height:100dvh; width:100%;
}
@media (max-width: 900px){
  .wrapper{ grid-template-columns: 1fr; grid-template-rows: auto 1fr;}
}

.card{
  background:var(--panel); border:1px solid var(--muted); border-radius:16px;
  box-shadow:var(--shadow);
}

.header{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 18px; border-bottom:1px solid var(--muted);
}
.brand{
  display:flex; align-items:center; gap:10px; font-weight:700;
}
.badge{ padding:2px 8px; background:var(--muted); border-radius:999px; font-size:12px }

.toolbar{display:flex; gap:10px; align-items:center}
.iconbtn{
  cursor:pointer; border:1px solid var(--muted); background:transparent;
  padding:8px 12px; border-radius:10px; font-weight:600; transition: transform .15s ease;
}
.iconbtn:hover{ transform: translateY(-1px) }

/* Sidebar */
.sidebar{ display:flex; flex-direction:column; overflow:hidden }
.search{
  padding:12px 16px; border-bottom:1px solid var(--muted);
}
.search input{
  width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--muted);
  background:transparent; color:var(--text);
}
.list{ overflow:auto; padding:8px }
.item{
  display:grid; grid-template-columns: 44px 1fr auto; gap:12px;
  align-items:center; padding:10px; border:1px solid var(--muted);
  border-radius:12px; margin-bottom:8px; cursor:pointer; background:transparent;
  transition: background .2s ease, transform .1s ease;
}
.item:hover{ background:rgba(0,0,0,.03) }
:root.dark .item:hover{ background:rgba(255,255,255,.04) }
.item.active{ outline:2px solid var(--primary) }
.thumb{
  width:44px; height:44px; border-radius:10px; background:linear-gradient(135deg,#c7d2fe,#fecaca);
  display:grid; place-items:center; font-weight:800;
}
.meta{ display:flex; flex-direction:column; gap:2px; }
.meta .name{ font-weight:700}
.meta .loc{ font-size:12px; color:var(--subtext)}
.battery{ font-size:12px; color:var(--subtext) }

/* Details */
.details{ padding:12px; border-top:1px solid var(--muted); display:flex; flex-direction:column; gap:10px }
.actions{ display:flex; flex-wrap:wrap; gap:10px }
.primary{ background:var(--primary); color:#fff; border:0 }
.success{ background:var(--ring); color:#0b1220; border:0 }
.danger{ background:var(--danger); color:#fff; border:0 }

/* Map */
.mapwrap{ position:relative; }
.map{ height: calc(100dvh - 32px); width:100%; border-radius:16px; overflow:hidden; }
@media (max-width: 900px){ .map{ height: 56vh } }

/* Animations */
.fade-in{ animation: fade .25s ease both }
@keyframes fade{ from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none} }

/* Leaflet default icon fix for Next build */
.leaflet-container{ background: var(--panel) }

.mapwrap {
  flex: 1;
  position: relative;
  overflow: hidden;   /* keeps map contained */
}

.map {
  position: absolute;
  top: 0; bottom: 0; left: 0; right: 0;
}

.search-box {
  padding: 8px;
  border-bottom: 1px solid var(--border);
}

.search-box input {
  width: 100%;
  padding: 8px 10px;
  border: 1px solid var(--border);
  border-radius: 6px;
  font-size: 14px;
  background: var(--input-bg, #fff);
  color: var(--text);
}

.dark .search-box input {
  background: #222;
  color: #eee;
  border-color: #444;
}


.toast {
  position: fixed;
  bottom: 24px;
  right: 24px;
  background: var(--card);
  color: var(--foreground);
  padding: 12px 16px;
  border-radius: 8px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.25);
  font-size: 14px;
  animation: fadeInUp 0.3s ease;
  z-index: 3000;
   position: fixed;
  bottom: 24px;
  right: 24px;
}
